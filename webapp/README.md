# Веб-приложение
## Описание
Разработанная система представляет собой клиент-серверное приложение.  

Клиент представлен SPA веб-страницей, посредством которой (с помощью форм) формируется запрос к FastAPI-серверу.  
В запросе содержится основная информация об интересующей пользователя транзакции, а именно:
 - **step**: временной шаг (момент времени, в который была была выполнена транзакция, выражается в часах)
 - **amount**: сумма транзакции
 - **oldbalanceOrg** и **newbalanceOrg**: сумма счета **отправителя** до и после выполнения транзакции
 - **oldbalanceDest** и **newbalanceDest**: сумма счета **получателя** до и после выполнения транзакции
 - **type1**: тип транзакции по типу операции (может принимать значения **CASH_IN**, **CASH_OUT**, **TRANSFER**, **DEBIT** и **PAYMENT**)
 - **type2**: тип транзакции по типам аккаунтов отправителя и получателя (может принимать значения **CC** - Customer2Customer и **CM** - Customer2Merchant).  

После отправки запроса, приходит ответ с основными результатами работы ML-модели (анализ датасета и ее обучение рассмотрены в .ipynb-файле в директории Notebooks) и отображается на веб-странице.

### Клиент
Клиент представлен одностраничным веб-приложением, написанном на фреймворке SolidJS.  
Интерфейс представлен формами для ввода информации о транзакции и кнопкой _Validate_ для отправки формы.  

Общий вид интерфейса и работа клиента представлены ниже:
![Демонстрация работы клиента](https://i.imgur.com/MrN97ko.gif)  

### Сервер
Сервер представляет собой RESTful API-сервис, который содержит один ресурс с одним эндпоинтом.  

Эндпоинт для валидации транзакции:  
![Эндпоинт для проверки транзакции](https://i.imgur.com/jLUQ1o9.png)  

В качестве успешного ответа возвращается JSON-объект:
```
{
    msg: окончательный вердикт о транзакции,
    input_data: массив с информацией о транзакции,
    prediction_results: {
        0: вероятность того, что транзакция легитимная,
        1: веорятность того, что транзакция мошенническая
    }
}
```

Структура возвращаемого ответа:  
![Возвращаемый ответ](https://i.imgur.com/bGDj7xB.png)  

Тестирование FastAPI-сервера проводилось с помощью интерфейса предварительно сгенерированной OpenAPI-документации (Swagger).  

Пример тестирования эндпоинта:  
![Пример работы API](https://i.imgur.com/b474llp.gif)

## Установка и запуск
Для начала необходимо установить проект к себе на устройство.  

Для этого склонируйте проект с помощью git:
```
cd <искомая директория>
git clone https://codelab.tpu.ru/isd8/programming-coursework.git
```

Чтобы успешно запустить проект понадобится **Docker**.  
Инструкцию по скачиванию и установке можно найти здесь: https://www.docker.com/get-started/.  

После успешной установки и настройке системы контейнеризации, переходим в рабочую директорию и с помощью инструмента **docker-compose** собираем и запускаем образы веб-приложения:
```
cd webapp
docker-compose build
docker-compose up
```

В итоге, должно появится сообщение об удачном запуске двух контейнеров:  
![Контейнеры запущены](https://i.imgur.com/vI4N9jW.png)  
Для доступа к приложению достаточно просто перейти по адресу: 
- _**localhost:5173**_ (клиент),
- _**localhost:8000/docs**_ (OpenAPI документация сервера).